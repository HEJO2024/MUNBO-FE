{"ast":null,"code":"import{useEffect,useState}from\"react\";import AdminButton from\"../components/AdminButton\";import AdminHeader from\"../components/AdminHeader\";import{useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminLogin=()=>{const[id,setId]=useState(\"\");const[password,setPassword]=useState(\"\");const navigate=useNavigate();const handleSubmit=async()=>{try{const response=await axios.post(\"/admin/users/login\",{userId:id,passwd:password});console.log(response);if(response.status===200){console.log('로그인 성공');const token=response.headers['authorization'];sessionStorage.setItem('token',token);navigate(\"/\");}}catch(error){console.log(error);if(error.response.status===500){alert(error.response.data.message);}else if(error.response.status===401){alert(error.response.data.message);}}// axios 이용하여 로그인하는 함수\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"AdminLogin\",children:[/*#__PURE__*/_jsx(AdminHeader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"LoginText\",children:\"\\uAD00\\uB9AC\\uC790\\uC6A9 \\uB85C\\uADF8\\uC778\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\uC544\\uC774\\uB514\",value:id,onChange:e=>setId(e.target.value),className:\"LoginInput\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",value:password,onChange:e=>setPassword(e.target.value),className:\"LoginInput\"}),/*#__PURE__*/_jsx(AdminButton,{text:\"\\uB85C\\uADF8\\uC778\",className:\"LoginButton\",onClick:handleSubmit})]});};export default AdminLogin;","map":{"version":3,"names":["useEffect","useState","AdminButton","AdminHeader","useNavigate","axios","jsx","_jsx","jsxs","_jsxs","AdminLogin","id","setId","password","setPassword","navigate","handleSubmit","response","post","userId","passwd","console","log","status","token","headers","sessionStorage","setItem","error","alert","data","message","className","children","placeholder","value","onChange","e","target","text","onClick"],"sources":["C:/Users/100li/Desktop/admin/src/page/AdminLogin.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport AdminButton from \"../components/AdminButton\";\r\nimport AdminHeader from \"../components/AdminHeader\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nconst AdminLogin=()=>{\r\n    const [id,setId]=useState(\"\");\r\n    const [password,setPassword]=useState(\"\");\r\n    const navigate=useNavigate()\r\n   \r\n  const handleSubmit=async()=>{\r\n   try {\r\n      const response = await axios.post(`/admin/users/login`, { \r\n         userId:id,\r\n         passwd:password });\r\n         console.log(response)\r\n  \r\n      if (response.status === 200) {\r\n         console.log('로그인 성공');\r\n     \r\n         const token = response.headers['authorization'];\r\n    \r\n         sessionStorage.setItem('token', token);\r\n        \r\n        navigate(\"/\");\r\n      }\r\n    } catch (error) {\r\n      console.log(error)\r\n      if(error.response.status===500){\r\n      alert(error.response.data.message);}\r\n      else if (error.response.status === 401) {\r\n        alert(error.response.data.message)\r\n      }\r\n    } // axios 이용하여 로그인하는 함수\r\n   }\r\n return(\r\n    <div className=\"AdminLogin\">\r\n        <AdminHeader/>\r\n        <div className=\"LoginText\">관리자용 로그인</div>\r\n        <input placeholder=\"아이디\" value={id} onChange={(e)=>setId(e.target.value)} className=\"LoginInput\"></input>\r\n        <input placeholder=\"비밀번호\" value={password} onChange={(e)=>setPassword(e.target.value)} className=\"LoginInput\"></input>\r\n        <AdminButton text=\"로그인\" className=\"LoginButton\" onClick={handleSubmit} />\r\n\r\n        \r\n    </div>\r\n )\r\n};\r\nexport default AdminLogin;"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAC1B,KAAM,CAAAC,UAAU,CAACA,CAAA,GAAI,CACjB,KAAM,CAACC,EAAE,CAACC,KAAK,CAAC,CAACX,QAAQ,CAAC,EAAE,CAAC,CAC7B,KAAM,CAACY,QAAQ,CAACC,WAAW,CAAC,CAACb,QAAQ,CAAC,EAAE,CAAC,CACzC,KAAM,CAAAc,QAAQ,CAACX,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAY,YAAY,CAAC,KAAAA,CAAA,GAAS,CAC3B,GAAI,CACD,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,KAAK,CAACa,IAAI,sBAAuB,CACrDC,MAAM,CAACR,EAAE,CACTS,MAAM,CAACP,QAAS,CAAC,CAAC,CAClBQ,OAAO,CAACC,GAAG,CAACL,QAAQ,CAAC,CAExB,GAAIA,QAAQ,CAACM,MAAM,GAAK,GAAG,CAAE,CAC1BF,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CAErB,KAAM,CAAAE,KAAK,CAAGP,QAAQ,CAACQ,OAAO,CAAC,eAAe,CAAC,CAE/CC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAEH,KAAK,CAAC,CAEvCT,QAAQ,CAAC,GAAG,CAAC,CACf,CACF,CAAE,MAAOa,KAAK,CAAE,CACdP,OAAO,CAACC,GAAG,CAACM,KAAK,CAAC,CAClB,GAAGA,KAAK,CAACX,QAAQ,CAACM,MAAM,GAAG,GAAG,CAAC,CAC/BM,KAAK,CAACD,KAAK,CAACX,QAAQ,CAACa,IAAI,CAACC,OAAO,CAAC,CAAC,CAAC,IAC/B,IAAIH,KAAK,CAACX,QAAQ,CAACM,MAAM,GAAK,GAAG,CAAE,CACtCM,KAAK,CAACD,KAAK,CAACX,QAAQ,CAACa,IAAI,CAACC,OAAO,CAAC,CACpC,CACF,CAAE;AACH,CAAC,CACH,mBACGtB,KAAA,QAAKuB,SAAS,CAAC,YAAY,CAAAC,QAAA,eACvB1B,IAAA,CAACJ,WAAW,GAAC,CAAC,cACdI,IAAA,QAAKyB,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,6CAAQ,CAAK,CAAC,cACzC1B,IAAA,UAAO2B,WAAW,CAAC,oBAAK,CAACC,KAAK,CAAExB,EAAG,CAACyB,QAAQ,CAAGC,CAAC,EAAGzB,KAAK,CAACyB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAACH,SAAS,CAAC,YAAY,CAAQ,CAAC,cACzGzB,IAAA,UAAO2B,WAAW,CAAC,0BAAM,CAACC,KAAK,CAAEtB,QAAS,CAACuB,QAAQ,CAAGC,CAAC,EAAGvB,WAAW,CAACuB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAACH,SAAS,CAAC,YAAY,CAAQ,CAAC,cACtHzB,IAAA,CAACL,WAAW,EAACqC,IAAI,CAAC,oBAAK,CAACP,SAAS,CAAC,aAAa,CAACQ,OAAO,CAAExB,YAAa,CAAE,CAAC,EAGxE,CAAC,CAEV,CAAC,CACD,cAAe,CAAAN,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}