{"ast":null,"code":"import{useEffect,useState}from\"react\";import AdminHeader from\"../../components/AdminHeader\";import axios from\"axios\";import AdminButton from\"../../components/AdminButton\";import{Link,useNavigate}from\"react-router-dom\";import Swal from'sweetalert2';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const QuizView=()=>{const[quiz,setQuiz]=useState([]);const navigate=useNavigate();useEffect(()=>{fetchuserData();},[]);//가져온 문제데이터 실행\nconst fetchuserData=async()=>{try{const response=await axios.get(\"/admin/quiz/view\");setQuiz(response.data);}catch(error){if(error.response.status===500){alert(error.response.data.message);}else if(error.response.status===401||error.response.status===403){alert(error.response.data.message);sessionStorage.removeItem(\"token\");navigate(\"/admin/login\");}}};// api로 문제 정보 받아오는 함수\nconst handleDelete=async quizId=>{Swal.fire({title:'정말로 삭제하시겠습니까?',text:\"이 작업은 되돌릴 수 없습니다!\",icon:'warning',showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'네, 삭제합니다!',cancelButtonText:'아니오, 취소합니다!'}).then(result=>{if(result.isConfirmed){//삭제하기 누르면\naxios.post(\"/admin/quiz/delete\",{quizId:quizId}).then(response=>{//삭제성공   \nSwal.fire('삭제 완료!','해당 항목이 성공적으로 삭제되었습니다.','success');window.location.reload();}).catch(error=>{//삭제 실패\nif(error.response.status===404){Swal.fire('삭제 실패!',error.response.data.message,'fail');}else if(error.response.status===500){Swal.fire('삭제 실패!',error.response.data.message,'fail');}else if(error.response.status===401||error.response.status===403){sessionStorage.removeItem(\"token\");Swal.fire('삭제 실패!',error.response.data.message,'fail');navigate('/admin/login');};window.location.reload();});}});//삭제함수\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"AdminEntire\",children:[/*#__PURE__*/_jsx(AdminHeader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"UserText\",children:\"\\uAE30\\uCD9C\\uBB38\\uC81C \\uC870\\uD68C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"QuizAll\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"QuizMenuList\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"QuizMenuItem1\",children:\"ID\"}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"QuizMenuItem2\",children:\"\\uBB38\\uC81C\"}),/*#__PURE__*/_jsx(\"div\",{className:\"QuizMenuItem3\",children:\"\\uC218\\uC815\\uD558\\uAE30\"}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"QuizMenuItem3\",children:\"\\uC0AD\\uC81C\\uD558\\uAE30\"})]}),/*#__PURE__*/_jsx(\"div\",{children:quiz&&quiz.map(it=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"QuizList\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"QuizItem1\",children:it.quizId}),/*#__PURE__*/_jsx(\"div\",{className:\"QuizItem2\",children:it.quizContent}),/*#__PURE__*/_jsx(Link,{to:\"/admin/quiz/edit/\".concat(it.quizId),className:\"QuizItem3\",children:\"\\uC218\\uC815\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(AdminButton,{text:\"\\uC0AD\\uC81C\\uD558\\uAE30\",onClick:()=>handleDelete(it.quizId),className:\"QuizItem3\"})]});})})]})]});};export default QuizView;","map":{"version":3,"names":["useEffect","useState","AdminHeader","axios","AdminButton","Link","useNavigate","Swal","jsx","_jsx","jsxs","_jsxs","QuizView","quiz","setQuiz","navigate","fetchuserData","response","get","data","error","status","alert","message","sessionStorage","removeItem","handleDelete","quizId","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","post","window","location","reload","catch","className","children","map","it","quizContent","to","concat","onClick"],"sources":["C:/Users/100li/Desktop/admin/src/page/Quiz/QuizView.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport AdminHeader from \"../../components/AdminHeader\";\r\nimport axios from \"axios\";\r\nimport AdminButton from \"../../components/AdminButton\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport Swal from 'sweetalert2';\r\nconst QuizView=()=>{\r\n    const [quiz,setQuiz]=useState([]);\r\n    const navigate=useNavigate();\r\n    useEffect(() => {\r\n        fetchuserData();\r\n     }, []); //가져온 문제데이터 실행\r\n  \r\n     \r\n       const fetchuserData = async () => {     \r\n         try {\r\n             const response = await axios.get(`/admin/quiz/view`);\r\n             setQuiz(response.data);\r\n\r\n         }catch (error) {\r\n          if(error.response.status===500){\r\n          alert(error.response.data.message);\r\n          }\r\n          else if(error.response.status===401 || error.response.status===403){\r\n            alert(error.response.data.message);\r\n            sessionStorage.removeItem(\"token\");\r\n            navigate(\"/admin/login\");\r\n           }}\r\n         }  // api로 문제 정보 받아오는 함수\r\n\r\n         const handleDelete=async(quizId)=>{\r\n          Swal.fire({\r\n            title: '정말로 삭제하시겠습니까?',\r\n            text: \"이 작업은 되돌릴 수 없습니다!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: '네, 삭제합니다!',\r\n            cancelButtonText: '아니오, 취소합니다!'\r\n        }).then((result) => { \r\n            if (result.isConfirmed) { //삭제하기 누르면\r\n        \r\n              axios.post(`/admin/quiz/delete`, {\r\n                quizId:quizId,\r\n                \r\n             })\r\n             .then(response => {   //삭제성공   \r\n              Swal.fire(\r\n                '삭제 완료!',\r\n                '해당 항목이 성공적으로 삭제되었습니다.',\r\n                'success'\r\n            );\r\n                 window.location.reload();\r\n             })\r\n             .catch(error => {  //삭제 실패\r\n              if(error.response.status===404){\r\n                Swal.fire(\r\n                  '삭제 실패!',\r\n                  error.response.data.message,\r\n                  'fail'\r\n              );\r\n              }\r\n              else if(error.response.status===500){\r\n                Swal.fire(\r\n                  '삭제 실패!',\r\n                  error.response.data.message,\r\n                  'fail'\r\n              );\r\n              }\r\n              else if(error.response.status===401 || error.response.status===403){\r\n                sessionStorage.removeItem(\"token\");\r\n               Swal.fire(\r\n                '삭제 실패!',\r\n                error.response.data.message,\r\n                'fail'\r\n            ) ;\r\n             navigate('/admin/login')\r\n            };\r\n                 window.location.reload();\r\n             });\r\n            }\r\n        });  //삭제함수\r\n      }\r\n  return(\r\n    <div className=\"AdminEntire\">\r\n    <AdminHeader/>\r\n    <div className=\"UserText\">기출문제 조회</div>\r\n    <div className=\"QuizAll\">\r\n    <div className=\"QuizMenuList\">\r\n        <div className=\"QuizMenuItem1\">ID</div> <div className=\"QuizMenuItem2\">문제</div>   \r\n         <div className=\"QuizMenuItem3\">수정하기</div> <div className=\"QuizMenuItem3\">삭제하기</div>\r\n    </div>\r\n    <div>\r\n    {quiz&&quiz.map((it)=>{\r\n       return(\r\n        <div className=\"QuizList\">         \r\n        <div className=\"QuizItem1\">{it.quizId}</div>\r\n        <div className=\"QuizItem2\">{it.quizContent}</div> \r\n        <Link to={`/admin/quiz/edit/${it.quizId}`} className=\"QuizItem3\">수정하기</Link>\r\n        <AdminButton text=\"삭제하기\" onClick={()=>handleDelete(it.quizId)} className=\"QuizItem3\"/>\r\n        </div>\r\n       )\r\n    })}\r\n    </div>\r\n    </div>\r\n</div>\r\n  )\r\n};\r\nexport default QuizView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}