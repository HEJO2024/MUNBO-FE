{"ast":null,"code":"import axios from\"axios\";import{useEffect,useState}from\"react\";import AdminHeader from\"../../components/AdminHeader\";import AdminButton from\"../../components/AdminButton\";import{useNavigate}from\"react-router-dom\";import Swal from'sweetalert2';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RoundView=()=>{const[data,setData]=useState([]);const navigate=useNavigate();useEffect(()=>{fetchuserData();},[]);//가져온 회차데이터 실행\nconst fetchuserData=async()=>{try{const response=await axios.get(\"/admin/round/view\");setData(response.data);}catch(error){if(error.response.status===500){alert(error.response.data.message);}else if(error.response.status===401||error.response.status===403){alert(error.response.data.message);sessionStorage.removeItem(\"token\");navigate(\"/admin/login\");}}};// api로 회차 정보 받아오는 함수\nconst handleRemove=async roundId=>{Swal.fire({title:'정말로 삭제하시겠습니까?',text:\"이 작업은 되돌릴 수 없습니다!\",icon:'warning',showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'네, 삭제합니다!',cancelButtonText:'아니오, 취소합니다!'}).then(result=>{if(result.isConfirmed){//삭제하기 누르면\naxios.post(\"/admin/round/delete\",{roundId:roundId}).then(response=>{//삭제성공   \nSwal.fire('삭제 완료!','해당 항목이 성공적으로 삭제되었습니다.','success');window.location.reload();}).catch(error=>{//삭제 실패\nif(error.response.status===404){Swal.fire('삭제 실패!',error.response.data.message,'fail');}else if(error.response.status===500){Swal.fire('삭제 실패!',error.response.data.message,'fail');}else if(error.response.status===401||error.response.status===403){sessionStorage.removeItem(\"token\");Swal.fire('삭제 실패!',error.response.data.message,'fail');navigate('/admin/login');};window.location.reload();});}});//삭제함수\n};return/*#__PURE__*/_jsxs(\"div\",{className:\"AdminEntire\",children:[/*#__PURE__*/_jsx(AdminHeader,{}),/*#__PURE__*/_jsx(\"div\",{className:\"UserText\",children:\"\\uD68C\\uCC28 \\uC870\\uD68C\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"RoundAll\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"RoundMenuList\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"RoundMenuItem1\",children:\"\\uD68C\\uCC28 \\uC774\\uB984\"}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"RoundMenuItem2\",children:\"\\uC218\\uC815\\uD558\\uAE30\"}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"RoundMenuItem2\",children:\"\\uC0AD\\uC81C\\uD558\\uAE30\"})]}),data&&data.map(it=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"RoundList\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"RoundItem1\",children:it.roundName}),/*#__PURE__*/_jsx(AdminButton,{text:\"\\uC218\\uC815\\uD558\\uAE30\",className:\"RoundItem2\",onClick:()=>navigate(\"/admin/round/edit/\".concat(it.roundId))}),/*#__PURE__*/_jsx(AdminButton,{text:\"\\uC0AD\\uC81C\\uD558\\uAE30\",className:\"RoundItem2\",onClick:()=>handleRemove(it.roundId)})]});})]}),/*#__PURE__*/_jsx(AdminButton,{text:\"\\uC0DD\\uC131\",className:\"RoundCreate\",onClick:()=>navigate(\"/admin/round/create\")})]});};export default RoundView;","map":{"version":3,"names":["axios","useEffect","useState","AdminHeader","AdminButton","useNavigate","Swal","jsx","_jsx","jsxs","_jsxs","RoundView","data","setData","navigate","fetchuserData","response","get","error","status","alert","message","sessionStorage","removeItem","handleRemove","roundId","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","post","window","location","reload","catch","className","children","map","it","roundName","onClick","concat"],"sources":["C:/Users/100li/Desktop/admin/src/page/Round/RoundView.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\nimport AdminHeader from \"../../components/AdminHeader\";\r\nimport AdminButton from \"../../components/AdminButton\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Swal from 'sweetalert2';\r\nconst RoundView=()=>{\r\nconst [data,setData]=useState([]);\r\nconst navigate=useNavigate();\r\nuseEffect(() => {\r\n    fetchuserData();\r\n }, []); //가져온 회차데이터 실행\r\n\r\n \r\n   const fetchuserData = async () => {     \r\n     try {\r\n         const response = await axios.get(`/admin/round/view`);\r\n         setData(response.data);\r\n\r\n     }catch (error) {\r\n      if(error.response.status===500){\r\n       alert(error.response.data.message);\r\n      }\r\n      else if(error.response.status===401 || error.response.status===403){\r\n        alert(error.response.data.message);\r\n        sessionStorage.removeItem(\"token\");\r\n        navigate(\"/admin/login\");\r\n       }}\r\n     }  // api로 회차 정보 받아오는 함수\r\n     const handleRemove=async(roundId)=>{\r\n        Swal.fire({\r\n            title: '정말로 삭제하시겠습니까?',\r\n            text: \"이 작업은 되돌릴 수 없습니다!\",\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonColor: '#3085d6',\r\n            cancelButtonColor: '#d33',\r\n            confirmButtonText: '네, 삭제합니다!',\r\n            cancelButtonText: '아니오, 취소합니다!'\r\n        }).then((result) => { \r\n            if (result.isConfirmed) { //삭제하기 누르면\r\n        \r\n              axios.post(`/admin/round/delete`, {\r\n                roundId:roundId,\r\n                \r\n             })\r\n             .then(response => {   //삭제성공   \r\n              Swal.fire(\r\n                '삭제 완료!',\r\n                '해당 항목이 성공적으로 삭제되었습니다.',\r\n                'success'\r\n            );\r\n                 window.location.reload();\r\n             })\r\n             .catch(error => {  //삭제 실패\r\n              if(error.response.status===404){\r\n                Swal.fire(\r\n                  '삭제 실패!',\r\n                  error.response.data.message,\r\n                  'fail'\r\n              );\r\n              }\r\n              else if(error.response.status===500){\r\n                Swal.fire(\r\n                  '삭제 실패!',\r\n                  error.response.data.message,\r\n                  'fail'\r\n              );\r\n              }\r\n              else if(error.response.status===401 || error.response.status===403){\r\n                sessionStorage.removeItem(\"token\");\r\n               Swal.fire(\r\n                '삭제 실패!',\r\n                error.response.data.message,\r\n                'fail'\r\n            ) ;\r\n             navigate('/admin/login')\r\n            };\r\n                 window.location.reload();\r\n             });\r\n            }\r\n        });  //삭제함수\r\n    }\r\nreturn(\r\n    <div className=\"AdminEntire\">\r\n        <AdminHeader/>\r\n        <div className=\"UserText\">회차 조회</div>\r\n        <div className=\"RoundAll\">\r\n        <div className=\"RoundMenuList\">\r\n        <div className=\"RoundMenuItem1\">회차 이름</div> <div className=\"RoundMenuItem2\">수정하기</div> <div className=\"RoundMenuItem2\">삭제하기</div>\r\n        </div>\r\n        {data&&data.map((it)=>{\r\n            return(\r\n            <div className=\"RoundList\">\r\n          <div className=\"RoundItem1\">{it.roundName}</div>\r\n          <AdminButton text=\"수정하기\" className=\"RoundItem2\" onClick={()=>navigate(`/admin/round/edit/${it.roundId}`)}/>\r\n          <AdminButton text=\"삭제하기\" className=\"RoundItem2\" onClick={()=>handleRemove(it.roundId)}/>\r\n          </div>\r\n            )\r\n        })}\r\n    </div>\r\n    <AdminButton text=\"생성\" className=\"RoundCreate\" onClick={()=>navigate(\"/admin/round/create\")}/>\r\n    </div>\r\n)\r\n};\r\nexport default RoundView;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,WAAW,KAAM,8BAA8B,CACtD,MAAO,CAAAC,WAAW,KAAM,8BAA8B,CACtD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,IAAI,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAC/B,KAAM,CAAAC,SAAS,CAACA,CAAA,GAAI,CACpB,KAAM,CAACC,IAAI,CAACC,OAAO,CAAC,CAACX,QAAQ,CAAC,EAAE,CAAC,CACjC,KAAM,CAAAY,QAAQ,CAACT,WAAW,CAAC,CAAC,CAC5BJ,SAAS,CAAC,IAAM,CACZc,aAAa,CAAC,CAAC,CAClB,CAAC,CAAE,EAAE,CAAC,CAAE;AAGN,KAAM,CAAAA,aAAa,CAAG,KAAAA,CAAA,GAAY,CAChC,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAhB,KAAK,CAACiB,GAAG,oBAAoB,CAAC,CACrDJ,OAAO,CAACG,QAAQ,CAACJ,IAAI,CAAC,CAE1B,CAAC,MAAOM,KAAK,CAAE,CACd,GAAGA,KAAK,CAACF,QAAQ,CAACG,MAAM,GAAG,GAAG,CAAC,CAC9BC,KAAK,CAACF,KAAK,CAACF,QAAQ,CAACJ,IAAI,CAACS,OAAO,CAAC,CACnC,CAAC,IACI,IAAGH,KAAK,CAACF,QAAQ,CAACG,MAAM,GAAG,GAAG,EAAID,KAAK,CAACF,QAAQ,CAACG,MAAM,GAAG,GAAG,CAAC,CACjEC,KAAK,CAACF,KAAK,CAACF,QAAQ,CAACJ,IAAI,CAACS,OAAO,CAAC,CAClCC,cAAc,CAACC,UAAU,CAAC,OAAO,CAAC,CAClCT,QAAQ,CAAC,cAAc,CAAC,CACzB,CAAC,CACH,CAAC,CAAE;AACH,KAAM,CAAAU,YAAY,CAAC,KAAM,CAAAC,OAAO,EAAG,CAChCnB,IAAI,CAACoB,IAAI,CAAC,CACNC,KAAK,CAAE,eAAe,CACtBC,IAAI,CAAE,mBAAmB,CACzBC,IAAI,CAAE,SAAS,CACfC,gBAAgB,CAAE,IAAI,CACtBC,kBAAkB,CAAE,SAAS,CAC7BC,iBAAiB,CAAE,MAAM,CACzBC,iBAAiB,CAAE,WAAW,CAC9BC,gBAAgB,CAAE,aACtB,CAAC,CAAC,CAACC,IAAI,CAAEC,MAAM,EAAK,CAChB,GAAIA,MAAM,CAACC,WAAW,CAAE,CAAE;AAExBrC,KAAK,CAACsC,IAAI,uBAAwB,CAChCb,OAAO,CAACA,OAEX,CAAC,CAAC,CACDU,IAAI,CAACnB,QAAQ,EAAI,CAAI;AACrBV,IAAI,CAACoB,IAAI,CACP,QAAQ,CACR,uBAAuB,CACvB,SACJ,CAAC,CACIa,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC5B,CAAC,CAAC,CACDC,KAAK,CAACxB,KAAK,EAAI,CAAG;AAClB,GAAGA,KAAK,CAACF,QAAQ,CAACG,MAAM,GAAG,GAAG,CAAC,CAC7Bb,IAAI,CAACoB,IAAI,CACP,QAAQ,CACRR,KAAK,CAACF,QAAQ,CAACJ,IAAI,CAACS,OAAO,CAC3B,MACJ,CAAC,CACD,CAAC,IACI,IAAGH,KAAK,CAACF,QAAQ,CAACG,MAAM,GAAG,GAAG,CAAC,CAClCb,IAAI,CAACoB,IAAI,CACP,QAAQ,CACRR,KAAK,CAACF,QAAQ,CAACJ,IAAI,CAACS,OAAO,CAC3B,MACJ,CAAC,CACD,CAAC,IACI,IAAGH,KAAK,CAACF,QAAQ,CAACG,MAAM,GAAG,GAAG,EAAID,KAAK,CAACF,QAAQ,CAACG,MAAM,GAAG,GAAG,CAAC,CACjEG,cAAc,CAACC,UAAU,CAAC,OAAO,CAAC,CACnCjB,IAAI,CAACoB,IAAI,CACR,QAAQ,CACRR,KAAK,CAACF,QAAQ,CAACJ,IAAI,CAACS,OAAO,CAC3B,MACJ,CAAC,CACAP,QAAQ,CAAC,cAAc,CAAC,CACzB,CAAC,CACIyB,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAC5B,CAAC,CAAC,CACH,CACJ,CAAC,CAAC,CAAG;AACT,CAAC,CACL,mBACI/B,KAAA,QAAKiC,SAAS,CAAC,aAAa,CAAAC,QAAA,eACxBpC,IAAA,CAACL,WAAW,GAAC,CAAC,cACdK,IAAA,QAAKmC,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,2BAAK,CAAK,CAAC,cACrClC,KAAA,QAAKiC,SAAS,CAAC,UAAU,CAAAC,QAAA,eACzBlC,KAAA,QAAKiC,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC9BpC,IAAA,QAAKmC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,2BAAK,CAAK,CAAC,IAAC,cAAApC,IAAA,QAAKmC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,0BAAI,CAAK,CAAC,IAAC,cAAApC,IAAA,QAAKmC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAC,0BAAI,CAAK,CAAC,EAC5H,CAAC,CACLhC,IAAI,EAAEA,IAAI,CAACiC,GAAG,CAAEC,EAAE,EAAG,CAClB,mBACApC,KAAA,QAAKiC,SAAS,CAAC,WAAW,CAAAC,QAAA,eAC5BpC,IAAA,QAAKmC,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAEE,EAAE,CAACC,SAAS,CAAM,CAAC,cAChDvC,IAAA,CAACJ,WAAW,EAACwB,IAAI,CAAC,0BAAM,CAACe,SAAS,CAAC,YAAY,CAACK,OAAO,CAAEA,CAAA,GAAIlC,QAAQ,sBAAAmC,MAAA,CAAsBH,EAAE,CAACrB,OAAO,CAAE,CAAE,CAAC,CAAC,cAC3GjB,IAAA,CAACJ,WAAW,EAACwB,IAAI,CAAC,0BAAM,CAACe,SAAS,CAAC,YAAY,CAACK,OAAO,CAAEA,CAAA,GAAIxB,YAAY,CAACsB,EAAE,CAACrB,OAAO,CAAE,CAAC,CAAC,EACnF,CAAC,CAER,CAAC,CAAC,EACD,CAAC,cACNjB,IAAA,CAACJ,WAAW,EAACwB,IAAI,CAAC,cAAI,CAACe,SAAS,CAAC,aAAa,CAACK,OAAO,CAAEA,CAAA,GAAIlC,QAAQ,CAAC,qBAAqB,CAAE,CAAC,CAAC,EACzF,CAAC,CAEV,CAAC,CACD,cAAe,CAAAH,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}